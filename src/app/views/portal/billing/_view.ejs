<h1 class="page-header">Billing</h1>
This is a billing page, here you can configure your subscription settings!<br>
Currently the tool is free for usage. Disregard this page.<br>
<br>
<md-button flex type="submit" class="md-primary md-raised" ng-click="betaTesterProgram()">
    Learn more about our beta-tester program
</md-button>
<br>

<div layout="column" class="md-block">

    <h3 ng-if="subscription">Active Subscription</h3>
    <md-input-container ng-if="subscription" class="md-block">
        <label>Package</label>
        <input disabled ng-model="subscription.package">
    </md-input-container>
    <md-input-container ng-if="subscription" class="md-block">
        <label>Expiry</label>
        <input disabled ng-value="subscription.expiry | date : 'longDate'">
    </md-input-container>
    <md-input-container ng-if="subscription" class="md-block">
        <label>Last Payment</label>
        <input disabled ng-value="subscription.created_at | date : 'longDate'">
    </md-input-container>
    <md-input-container ng-if="subscription" class="md-block">
        <label>Status</label>
        <input disabled ng-value="subscription.status">
    </md-input-container>

    <md-content ng-if="!subscription || subscription.status == 'cancelled'">
        <h3>Subscribe to a package</h3>


        <md-content
                layout-padding layout="row" layout-align="center center" layout-wrap>
            <md-card ng-repeat="package in packages" ng-click="subscribePackage(package.name)"
                     class="package-card" layout="column"
                     ng-style="{'background': (loading ? ('linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), ') : '') + ' url(' + imageContent.url + ')', 'background-position':'center center', 'background-repeat': 'no-repeat', 'background-size': 'cover'}"
                     layout-align="center center">


                <md-card-title>
                    <md-card-title-text>
                        <span class="md-headline">{{package.name}}</span>
                        <span class="md-subhead">{{package.cost.value | currency}} per {{(package.expiry.interval == 1 ? '' : package.expiry.interval + ' ') + package.expiry.type}}</span>

                        <md-list class="md-dense" flex layout="row" layout-align="start">
                            <md-list-item class="md-2-line">
                                <img class="md-avatar"/>
                                <div class="md-list-item-text" ng-repeat="feature in package.features">
                                    <h3>{{feature}}</h3>
                                    <p></p>
                                </div>
                            </md-list-item>
                        </md-list>
                        <div flex>
                        </div>
                        <div ng-if="loading" layout="row" layout-sm="column" layout-align="space-around">
                            <md-progress-linear md-mode="indeterminate"></md-progress-linear>
                        </div>
                    </md-card-title-text>
                    <md-card-title-media>
                        <md-button
                                class="md-fab ui-social ui-other ">
                        </md-button>
                    </md-card-title-media>
                </md-card-title>
                <md-card-actions layout="column" layout-align="stretch">
                    <md-button class="md-primary">Subscribe</md-button>
                </md-card-actions>
            </md-card>
        </md-content>
    </md-content>
    <md-content ng-if="subscription.status == 'active'" layout="column" layout-align="stretch">
        <md-button ng-click="cancelSubscription()" class="md-warn">Cancel Subscription</md-button>
    </md-content>
</div>
